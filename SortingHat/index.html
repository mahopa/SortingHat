<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" data-ng-app="myApp">
<head>
    <title></title>
    <link href="Content/font-awesome.css" rel="stylesheet" />
    <link href="Content/bootstrap.css" rel="stylesheet" />
</head>
<body>
    <div data-ng-controller="SortingHatController" class="well">
        <input class="input-sm" 
               type="text" 
               placeholder="Enter Name" 
               data-ng-model="student.name" 
        />
        <select class="input-sm" data-ng-model="student.house">
            <option data-ng-repeat="house in houses" value="{{house.name}}">{{house.name}}</option>
        </select>
        <div class="btn btn-primary" data-ng-click="addStudent(student)"><i class="fa fa-magic"></i></div>
    </div>
    <div data-ng-controller="HousesController">
        <i class="fa fa-search"></i> <input type="text" ng-model="search" class="input-sm" />
        <table class="table table-hover table-bordered table-striped">
            <tr data-ng-repeat="student in students | orderBy:'name'| orderBy: '-house' |  filter: search| limitTo: 5 ">
                <td><img style="height:50px;" data-ng-src="{{getCrest(student.house)}}" alt="{{student.house}}"></td>
                <td>{{student.name}}</td>
                <td>{{student.house}}</td>
                <td>
                    <div class="btn btn-danger" data-ng-click="deleteStudent(student)">
                        <i class="fa fa-trash-o"></i>
                    </div>
                    <div class="btn btn-warning" data-ng-click="editStudent(student)"><i class="fa fa-edit"></i></div>
                </td>
            </tr>
        </table>
        <!--Modal Start-->
        <div class="modal fade" id="editModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title">Edit Record for {{aStudent.name}}</h4>
                    </div>
                    <div class="modal-body">
                        <i class="fa fa-user"></i>
                        <input type="text" data-ng-model="aStudent.name"/>
                        <i class="fa fa-home"></i>
                        <select data-ng-model="aStudent.house">
                            <option ng-repeat="house in houses" value="{{house.name}}">{{house.name}}
                            </option>
                        </select>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" data-ng-click="saveStudent(aStudent)">Save changes</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
    </div>


    <script src="Scripts/jquery-1.9.1.js"></script>
    <script src="Scripts/bootstrap.js"></script>
    <script src="Scripts/angular.js"></script>
    <script src="Scripts/_script.js"></script>
</body>
</html>
